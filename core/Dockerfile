ARG MAINTAINER_EMAIL
ARG BASE_IMAGE
ARG ARDUINO_ADDITIONAL_URLS
ARG ARDUINO_CORE

FROM $BASE_IMAGE
ARG MAINTAINER_EMAIL
ARG ARDUINO_ADDITIONAL_URLS
ARG ARDUINO_CORE

LABEL maintainer=$MAINTAINER_EMAIL
RUN if [ -n "$ARDUINO_ADDITIONAL_URLS" ] ; then \
		arduino-cli config init --additional-urls $ARDUINO_ADDITIONAL_URLS ; \
	fi && arduino-cli core update-index
RUN arduino-cli core install $ARDUINO_CORE
